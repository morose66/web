<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>正则表达式</title>
    <script>
        function checkTelnum() {
            let num = document.getElementById('telNum').value
            let reg = /^[1-9]\d{10}$/
            let boo = reg.test(num);
            if (boo) {
                alert('成功')
            } else {
                alert('验证失败')
            }
        }
        function checkDate() {
            let num = document.getElementById('date').value
            //2012-5-01
            let reg = /^\d{4}-\d{1}[1-2]?-\d{1,2}$/
            let boo = reg.test(num);
            if (boo) {
                alert('成功')
            } else {
                alert('验证失败')
            }
        }
        function checkEmail() {
            let num = document.getElementById('email').value
            // 验证邮箱 xxx@itcast.cn：
            let reg = /^\w+@\w+(\.\w+)+$/
            let boo = reg.test(num);
            if (boo) {
                alert('成功')
            } else {
                alert('验证失败')
            }
        }
        function matchReg() {
            // 1. 提取工资
            var str = "张三：1000，李四：5000，王五：8000。";
            var array = str.match(/\d+/g);
            console.log(array);
            // 2. 提取email地址
            var str = "123123@xx.com,fangfang@valuedopinions.cn 286669312@qq.com 2、emailenglish@emailenglish.englishtown.com 286669312@qq.com...";
            var array = str.match(/\w+@\w+\.\w+(\.\w+)?/g);
            console.log(array);
            // 3. 分组提取  
            // 3. 提取日期中的年部分  2015-5-10
            var dateStr = '2016-1-5';
            // 正则表达式中的()作为分组来使用，获取分组匹配到的结果用Regex.$1 $2 $3....来获取
            var reg = /(\d{4})-\d{1,2}-\d{1,2}/;
            if (reg.test(dateStr)) {
                console.log(RegExp.$1);
            }
            // 4. 提取邮件中的每一部分
            var reg = /(\w+)@(\w+)\.(\w+)(\.\w+)?/;
            var str = "123123@xx.com";
            if (reg.test(str)) {
                console.log(RegExp.$1);
                console.log(RegExp.$2);
                console.log(RegExp.$3);
            }

        }
        function replaceReg() {
            var str = "   123AD  asadf   asadfasf  adf ";
            str = str.replace(/\s/g, "xx");
            console.log(str);
        }
    </script>
</head>

<body>
    <p>请输入手机号:
        <input id="telNum">
        <button onclick="checkTelnum()">验证</button>
    </p>
    <p>
        请输入日期
        <input id="date">
        <button onclick="checkDate()">验证</button>
    </p>
    <p>
        请输入邮箱
        <input id="email">
        <button onclick="checkEmail()">验证</button>
    </p>
    <p>
        <button onclick="matchReg()">提取</button>
    </p>
    <p>
        <button onclick="replaceReg()">替换</button>
    </p>

</body>

</html>